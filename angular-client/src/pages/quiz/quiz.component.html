<nz-content>
  <div *ngIf="!displayQuestion" class="container">
    <div class="description-box">
      <h2 nz-typography>Quiz!</h2>
      <p nz-typography>To create a quiz based on the flashcards you have already created, you first need to select a subject and then have the option of deciding whether the quiz should cover all topics or just a single one by selecting the appropriate one</p>
    </div>
    <div class="options-container">
      <!-- Sidebar for Subjects -->
      <div class="box">
        <h2 nz-typography>Subjects</h2>

        <nz-divider></nz-divider>
        <ul>
          <li *ngFor="let subject of subjects" (click)="selectSubject(subject)" [class.active]="subject === selectedSubject">
            {{ subject.subjectName }}
          </li>
        </ul>
        <nz-divider *ngIf="selectedSubject"></nz-divider>
      </div>
      <!-- Sidebar for Folders -->
      <div class="box">
        <h2 nz-typography>Folders</h2>

        <nz-divider></nz-divider>
        <ul>
          <div *ngIf="selectedSubject">
            <li *ngFor="let folder of selectedSubject.directories" (click)="selectFolder(folder)" [class.active]="folder === selectedDirectory">
              {{ folder.folderName }}
            </li>
          </div>
        </ul>
      </div>
    </div>
    <div class="create-button">
      <button nz-button nzType="primary" (click)="createQuiz()">Create Quiz</button>
    </div>
  </div>
  <div *ngIf="displayQuestion" class="container">
    <div nz-row nzJustify="center">
      <div nz-col nzSpan="24" class="grid-container">
        <div nz-row nzJustify="center">
          <h1 nz-typography>Quiz Time!</h1>
        </div>
        <div nz-row nzJustify="center">
          <nz-divider />
        </div>
        <p nz-typography>Question: {{ question.question }}</p>
        <div>
          <ul>
            <li *ngFor="let answer of displayedAnswers" (click)="selectAnswer(answer)" [class.active]="answer === selectedAnswer">
              {{ answer }}
            </li>
          </ul>
          <nz-divider *ngIf="selectedAnswer"></nz-divider>
        </div>
          <div nz-col nzSpan="24" class="next-button-container">
            <button nz-button nzType="primary" (click)="nextQuestion()">Next Question</button>
          </div>

        <div *ngIf="isCorrect" nz-row nzJustify="center">
          <h4 nz-typography nzType="secondary">{{feedbackText}}</h4>
        </div>
      </div>
    </div>
  </div>
</nz-content>
